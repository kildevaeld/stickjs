<!DOCTYPE html>
<html>
  <head>
    <script src="../build/stick.js"></script>
    <script>
      
      var factory = stick.module('app', function ($context) {
        $context.addTodo = function (e) {
          if ($context.todo != "" && $context.todo != undefined) {
            $context.todos.push({
              name: $context.todo,
              done: false
            });
            $context.todo = "";
          }
        }
        
        $context.todoDone = function (model) {
          model.set('done', true); 
          
        }
        $context.removeTodo = function (model) {
          $context.todos.remove(model)
          console.log($context.todos)
        }
        
        $context.todos = new stick.Collection();
        
      });
      
      stick.ready(function () {
        factory.create({
          el: document.body
        });
      });
      
    </script>
  </head>
  <body>
    <input type="text" onenter="{{addTodo}}" value="{{<~>todo}}" />
    <button onclick="{{addTodo}}">Add</button>
    <ul>
      <li repeat.each="{{todos}}" repeat.as="todo">
        {{todo.name}} {{todo.done ? '&#10003;' : ''}}
        <button onclick="{{root.todoDone(todo)}}">Done</button>
        <button onclick="{{root.removeTodo(todo)}}">Remove</button>
      </li>
    </ul>
  </body>
</html>